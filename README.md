# Overbooking-for-Physical-Examination
During my final year at NTU, I was a research assistant at the NTU Hospital. Appointment failures cause inefficiencies and profit loss, so we helped set up an overbooking policy for the physical examination booking system, hoping to increase revenue. We defined late cancellations as those occurring within seven days, when it would be too late to book a new patient. This research is significant, because most other papers on this topic focus on clinics, not health management centers.

This project consisted of three parts: data cleansing, model building and optimization. Starting with data cleansing and data description, the hospital had three main groups of customers: general citizens, company employees (company healthcare contracts) and government officials. We focused on general citizens, which accounted for 66.7% of transactions. To start, we viewed date-changing as a cancellation, combined with their new appointment. For a transaction with N records of changing their examination dates, we broke them down into N+1 transactions. For a patient’s second transaction to final transaction, the booking date is the cancellation date of the previous transaction. We spent lots of time cleansing data, since the data provided was manually recorded by staff, and many important details were written in their “notes” column (including date-changing information). Therefore, we spent time transforming the data into a format containing all the important information. After cleansing, there were 8,431 records of general public transactions, roughly 2% more than the original number of transactions in the raw data. Meanwhile, the late cancellation rate increased from 3.3% to 3.5% after cleansing.

Next, we started on building prediction models, to predict whether the patients would cancel the appointments within seven days. Since the late cancellation rate was only 3.5%, our prediction models usually guessed the customer would not cancel. Another accuracy problem with our model was that some features that would affect late cancellation weren't recorded in the data, including weather conditions, occupation, marital status and whether a patient had children. This increased the difficulty in applying machine learning skills to develop a promising model. Therefore, we turned to logistic regression (forward stepwise regression) to discover the five most significant features affecting late cancellation, and calculate the late cancellation rate. We grouped customers with the same features together, and merged the smaller groups into one. Finally, the historical average cancellation probability of each group was calculated based on how many people in that group canceled the appointment within seven days.

After calculating the late cancellation rate, we simulated the total revenue over the next fifty years, with three booking policies: no-overbooking (NO policy), naïve overbooking (O policy) and overbooking with probability estimation through the model (OG policy). The NO policy fixed the daily booking limit at thirty-six people per day. The O policy assumed each person had the same late cancellation rate as the historical average. The OG policy used the late cancellation rate estimated by the grouping policy for each individual. To determine whether our overbooking policy was effective, we simulated daily revenue in 2019 and conducted a matched-pairs t- test, simulating the year’s revenue fifty times and comparing the annual revenue of each policy through an independent t-test. The results of the simulation were promising, with the OG policy increasing revenue by 11% annually.

As the team leader, I controlled the discussion direction and devised ways to improve results according to the data, proposing to teammates that we try methods like decision trees to improve model performance. In the initial stages, I was in charge of all descriptive statistics, and I drew line charts, bar charts, histograms and scatter plots to clarify the dataset. I found several interesting patterns, including the fact that half of transactions were from citizens between 41-60 years old, and those transactions had a lower late cancellation rate. Additionally, late cancellations were much higher in January, August, September and December, while bookings that didn’t include gastroenteroscopes had higher cancellation rates. The most interesting part in the research was finding the correlation between features by visualizing data, and running regression to find significant features. It was interesting and fulfilling, because the descriptive statistics were a fundamental part of our research, giving us a clear picture of our following steps.

Devising the optimization formula, running models and finding the best one to predict late cancellations was a difficult but satisfying challenge, affirming my desire to pursue a master’s degree in business analytics, gaining more data analysis knowledge.
